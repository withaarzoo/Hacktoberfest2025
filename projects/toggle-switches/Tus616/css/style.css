@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap");

:root {
  --sz: 10vmin; 
  --on: linear-gradient(135deg, #4a4a4a, #6d6d6d); 
  --on-solid: #555555; 
  --of: #9d9d0e;
  --tr: all 0.3s ease;
}

* {
  box-sizing: border-box;
  transition: var(--tr);
}

body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(45deg, #2e2e2e, #4c4c4c);
  font-family: Roboto, Arial, Helvetica, serif;
  color: #f0f0f0;
}

.toggle {
  position: relative;
  width: calc(var(--sz) * 4);
  height: calc(var(--sz) * 2);
  display: flex;
  align-items: center;
  justify-content: center;
}

input {
  display: none;
}

label[for="btn"] {
  position: absolute;
  width: calc(var(--sz) * 4);
  height: calc(var(--sz) * 2);
  background: linear-gradient(180deg, #d1d1d1, #7a7a7a);
  border-radius: var(--sz);
  padding: calc(var(--sz) / 5);
  box-shadow: 0 0 calc(var(--sz) / 50) calc(var(--sz) / 50) #0003;
}

#btn:checked + label[for="btn"] {
  box-shadow: 0 calc(var(--sz) / 50) calc(var(--sz) / 5) #fff3,
    0 0 calc(var(--sz) / 50) calc(var(--sz) / 50) #000a;
}

label[for="btn"]:after {
  content: "";
  position: absolute;
  width: calc(100% - calc(calc(var(--sz) / 5) * 12));
  height: calc(100% - calc(calc(var(--sz) / 5) * 2));
  box-shadow: 0 0 calc(var(--sz) / 2) calc(var(--sz) / 10) var(--on-solid),
    0 0 calc(var(--sz) / 2) calc(var(--sz) / 10) #fff3;
  border-radius: var(--sz);
  z-index: 0;
  opacity: 0;
  transition: var(--tr);
  animation: move-shadow 3s ease 0s 1;
}

#btn:checked + label[for="btn"]:after {
  opacity: 1;
  width: calc(100% - calc(calc(var(--sz) / 5) * 4));
}

.track {
  position: absolute;
  width: calc(calc(var(--sz) * 4) - calc(var(--sz) / 2.5));
  height: calc(calc(var(--sz) * 2) - calc(var(--sz) / 2.5));
  border-radius: var(--sz);
  overflow: hidden;
}

.track:before {
  content: "";
  position: absolute;
  width: calc(200% - calc(calc(var(--sz) * 2) - calc(var(--sz) / 3)));
  height: 100%;
  left: -50%;
  transition: var(--tr);
  background: linear-gradient(90deg, var(--on-solid) 50%, var(--of) 50%);
  animation: move-color 3s ease 0s 1;
}

.track:after {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: var(--sz);
  box-shadow: inset 0 calc(var(--sz) / -10) calc(var(--sz) / 10) 0 #0003,
    inset 0 calc(var(--sz) / 10) calc(var(--sz) / 10) 0 #0003;
}

#btn:checked + label .track:before {
  left: 0%;
}

.thumb {
  position: absolute;
  width: calc(calc(var(--sz) * 2) - calc(var(--sz) / 3));
  height: calc(calc(var(--sz) * 2) - calc(var(--sz) / 3));
  top: calc(calc(var(--sz) / 10) + calc(var(--sz) / 15));
  left: calc(calc(var(--sz) / 10) + calc(var(--sz) / 15));
  background: linear-gradient(180deg, #efefef, #999);
  border-radius: var(--sz);
  box-shadow: 0 0 0 calc(var(--sz) / 50) #0003,
    0 calc(var(--sz) / 10) calc(var(--sz) / 10) 0 #0006;
  cursor: pointer;
  font-size: calc(var(--sz) / 2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #333;
  z-index: 1;
  animation: move-thumb 3s ease 0s 1;
}

#btn:checked + label .thumb {
  left: calc(
    calc(100% - calc(calc(var(--sz) * 2) - calc(var(--sz) / 3))) -
      calc(calc(var(--sz) / 10) + calc(var(--sz) / 15))
  );
  color: #f5f5f5;
  background: radial-gradient(
      circle at 7% 50%,
      #ffffff80 calc(var(--sz) / 50),
      #00000020 calc(var(--sz) / 2)
    ),
    var(--on),
    linear-gradient(180deg, #bbb, #777);
  text-shadow: 0 0 calc(var(--sz) / 10) #fff2, 0 0 calc(var(--sz) / 5) #0003;
}

.thumb:before {
  content: "";
  display: block;
  width: 70%;
  height: 70%;
  background: linear-gradient(180deg, #ccc, #888, #555);
  position: absolute;
  z-index: -1;
  border-radius: var(--sz);
  border: calc(var(--sz) / 50) solid #999;
}

.txt:before,
.txt:after {
  position: absolute;
  left: calc(var(--sz) / 2);
  top: 25%;
  transition: var(--tr);
  font-size: calc(var(--sz) / 1.5);
  color: #222;
  opacity: 0.5;
  text-shadow: 0px -1px 1px #0001, 0px 1px 2px #fff1;
  content: "ON";
}

.txt:after {
  content: "OFF";
  left: calc(100% - calc(var(--sz) / 0.625));
}

/* Animations */
@keyframes move-thumb {
  0%, 20%, 80%, 100% {
    left: calc(calc(var(--sz) / 10) + calc(var(--sz) / 15));
  }
  30%, 70% {
    left: calc(
      calc(100% - calc(calc(var(--sz) * 2) - calc(var(--sz) / 3))) -
        calc(calc(var(--sz) / 10) + calc(var(--sz) / 15))
    );
  }
}

@keyframes move-color {
  0%, 20%, 80%, 100% { left: -50%; }
  30%, 70% { left: 0%; }
}

@keyframes move-shadow {
  0%, 20%, 80%, 100% {
    opacity: 0;
    width: calc(100% - calc(calc(var(--sz) / 5) * 12));
  }
  30%, 70% {
    opacity: 1;
    width: calc(100% - calc(calc(var(--sz) / 5) * 4));
  }
}
